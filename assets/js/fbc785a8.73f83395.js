"use strict";(globalThis.webpackChunkCDDA_CN_Guide=globalThis.webpackChunkCDDA_CN_Guide||[]).push([[9815],{28453(n,e,i){i.d(e,{R:()=>r,x:()=>d});var l=i(96540);const c={},s=l.createContext(c);function r(n){const e=l.useContext(s);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:r(n.components),l.createElement(s.Provider,{value:e},n.children)}},94067(n,e,i){i.r(e),i.d(e,{assets:()=>h,contentTitle:()=>d,default:()=>a,frontMatter:()=>r,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"content/\u56fd\u9645\u5316\u7cfb\u7edf/Unicode\u5b57\u7b26\u7f16\u7801","title":"Unicode\u5b57\u7b26\u7f16\u7801","description":"\u672c\u6587\u5f15\u7528\u7684\u6587\u4ef6","source":"@site/docs/content/\u56fd\u9645\u5316\u7cfb\u7edf/Unicode\u5b57\u7b26\u7f16\u7801.md","sourceDirName":"content/\u56fd\u9645\u5316\u7cfb\u7edf","slug":"/content/\u56fd\u9645\u5316\u7cfb\u7edf/Unicode\u5b57\u7b26\u7f16\u7801","permalink":"/CDDA-CN-Guide/docs/content/\u56fd\u9645\u5316\u7cfb\u7edf/Unicode\u5b57\u7b26\u7f16\u7801","draft":false,"unlisted":false,"editUrl":"https://github.com/SurFlurer/CDDA-CN-Guide/edit/master/CataclysmDDA\u7efc\u5408\u653b\u7565\u624b\u518c/docs/content/\u56fd\u9645\u5316\u7cfb\u7edf/Unicode\u5b57\u7b26\u7f16\u7801.md","tags":[],"version":"current","frontMatter":{"title":"Unicode\u5b57\u7b26\u7f16\u7801"},"sidebar":"tutorialSidebar","previous":{"title":"\u56fd\u9645\u5316\u7cfb\u7edf","permalink":"/CDDA-CN-Guide/docs/content/\u56fd\u9645\u5316\u7cfb\u7edf/"},"next":{"title":"\u591a\u8bed\u8a00\u652f\u6301","permalink":"/CDDA-CN-Guide/docs/content/\u56fd\u9645\u5316\u7cfb\u7edf/\u591a\u8bed\u8a00\u652f\u6301"}}');var c=i(74848),s=i(28453);const r={title:"Unicode\u5b57\u7b26\u7f16\u7801"},d=void 0,h={},t=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",level:2},{value:"\u5f15\u8a00",id:"\u5f15\u8a00",level:2},{value:"\u9879\u76ee\u7ed3\u6784",id:"\u9879\u76ee\u7ed3\u6784",level:2},{value:"\u6838\u5fc3\u7ec4\u4ef6",id:"\u6838\u5fc3\u7ec4\u4ef6",level:2},{value:"\u67b6\u6784\u603b\u89c8",id:"\u67b6\u6784\u603b\u89c8",level:2},{value:"\u8be6\u7ec6\u7ec4\u4ef6\u5206\u6790",id:"\u8be6\u7ec6\u7ec4\u4ef6\u5206\u6790",level:2},{value:"UTF-8\u89e3\u7801\u4e0e\u9a8c\u8bc1\uff08UTF8_getch\uff09",id:"utf-8\u89e3\u7801\u4e0e\u9a8c\u8bc1utf8_getch",level:3},{value:"\u5b57\u7b26\u5bbd\u5ea6\u8ba1\u7b97\uff08mk_wcwidth\uff09",id:"\u5b57\u7b26\u5bbd\u5ea6\u8ba1\u7b97mk_wcwidth",level:3},{value:"\u5b57\u7b26\u4e32\u5305\u88c5\u5668\uff08utf8_wrapper\uff09",id:"\u5b57\u7b26\u4e32\u5305\u88c5\u5668utf8_wrapper",level:3},{value:"\u5bbd\u5b57\u7b26\u8f6c\u6362\uff08UTF-8\u2194\u5bbd\u5b57\u7b26\u4e32\uff09",id:"\u5bbd\u5b57\u7b26\u8f6c\u6362utf-8\u5bbd\u5b57\u7b26\u4e32",level:3},{value:"Unicode\u8f85\u52a9\u51fd\u6570\uff08\u5927\u5c0f\u5199/\u53bb\u97f3\u8c03/CJK\u5224\u5b9a\uff09",id:"unicode\u8f85\u52a9\u51fd\u6570\u5927\u5c0f\u5199\u53bb\u97f3\u8c03cjk\u5224\u5b9a",level:3},{value:"\u7cfb\u7edf\u672c\u5730\u5316\u9002\u914d\uff08\u8bed\u8a00/\u5355\u4f4d\u5236\uff09",id:"\u7cfb\u7edf\u672c\u5730\u5316\u9002\u914d\u8bed\u8a00\u5355\u4f4d\u5236",level:3},{value:"JSON\u89e3\u6790\u4e2d\u7684UTF-8\u5904\u7406",id:"json\u89e3\u6790\u4e2d\u7684utf-8\u5904\u7406",level:3},{value:"\u4f9d\u8d56\u5173\u7cfb\u5206\u6790",id:"\u4f9d\u8d56\u5173\u7cfb\u5206\u6790",level:2},{value:"\u6027\u80fd\u8003\u91cf",id:"\u6027\u80fd\u8003\u91cf",level:2},{value:"\u6545\u969c\u6392\u67e5\u6307\u5357",id:"\u6545\u969c\u6392\u67e5\u6307\u5357",level:2},{value:"\u7ed3\u8bba",id:"\u7ed3\u8bba",level:2},{value:"\u9644\u5f55",id:"\u9644\u5f55",level:2}];function x(n){const e={a:"a",cite:"cite",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.cite,{children:"\n**\u672c\u6587\u5f15\u7528\u7684\u6587\u4ef6**\n- src/catacharset.h\n- src/catacharset.cpp\n- src/unicode.h\n- src/unicode.cpp\n- src/wcwidth.h\n- src/wcwidth.cpp\n- src/system_locale.h\n- src/system_locale.cpp\n- src/json.cpp\n- tests/catacharset_test.cpp\n- doc/unicode_chars_palette.txt\n- lang/unicode_check.py\n"}),"\n",(0,c.jsx)(e.h2,{id:"\u76ee\u5f55",children:"\u76ee\u5f55"}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E5%BC%95%E8%A8%80",children:"\u5f15\u8a00"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84",children:"\u9879\u76ee\u7ed3\u6784"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6",children:"\u6838\u5fc3\u7ec4\u4ef6"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E6%9E%B6%E6%9E%84%E6%80%BB%E8%A7%88",children:"\u67b6\u6784\u603b\u89c8"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E8%AF%A6%E7%BB%86%E7%BB%84%E4%BB%B6%E5%88%86%E6%9E%90",children:"\u8be6\u7ec6\u7ec4\u4ef6\u5206\u6790"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%E5%88%86%E6%9E%90",children:"\u4f9d\u8d56\u5173\u7cfb\u5206\u6790"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E6%80%A7%E8%83%BD%E8%80%83%E9%87%8F",children:"\u6027\u80fd\u8003\u91cf"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5%E6%8C%87%E5%8D%97",children:"\u6545\u969c\u6392\u67e5\u6307\u5357"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E7%BB%93%E8%AE%BA",children:"\u7ed3\u8bba"})}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"#%E9%99%84%E5%BD%95",children:"\u9644\u5f55"})}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u5f15\u8a00",children:"\u5f15\u8a00"}),"\n",(0,c.jsx)(e.p,{children:"\u672c\u6280\u672f\u6587\u6863\u805a\u7126\u4e8eCataclysm-DDA\uff08CDDA\uff09\u4e2d\u7684Unicode\u5b57\u7b26\u7f16\u7801\u4f53\u7cfb\uff0c\u7cfb\u7edf\u9610\u8ff0UTF-8\u89e3\u7801\u3001\u5b57\u7b26\u5bbd\u5ea6\u8ba1\u7b97\u3001\u5b57\u7b26\u96c6\u8f6c\u6362\u4e0e\u9a8c\u8bc1\u3001\u4ee5\u53ca\u672c\u5730\u5316\u9002\u914d\u7b56\u7565\u3002\u6587\u6863\u57fa\u4e8e\u4ed3\u5e93\u4e2d\u7684\u6e90\u4ee3\u7801\u4e0e\u6d4b\u8bd5\u7528\u4f8b\u8fdb\u884c\u6df1\u5165\u5206\u6790\uff0c\u5e76\u63d0\u4f9b\u9762\u5411\u5f00\u53d1\u4e0e\u8fd0\u7ef4\u7684\u5b9e\u8df5\u5efa\u8bae\uff0c\u5e2e\u52a9\u5728\u591a\u5e73\u53f0\u73af\u5883\u4e0b\u7a33\u5b9a\u5730\u5904\u7406\u56fd\u9645\u5316\u6587\u672c\u3002"}),"\n",(0,c.jsx)(e.h2,{id:"\u9879\u76ee\u7ed3\u6784",children:"\u9879\u76ee\u7ed3\u6784"}),"\n",(0,c.jsx)(e.p,{children:"\u56f4\u7ed5Unicode\u76f8\u5173\u7684\u6838\u5fc3\u4ee3\u7801\u4e3b\u8981\u5206\u5e03\u5728\u4ee5\u4e0b\u6a21\u5757\uff1a"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u5b57\u7b26\u4e32\u4e0e\u7f16\u7801\u5de5\u5177\uff1aUTF-8\u89e3\u7801\u3001\u5bbd\u5ea6\u8ba1\u7b97\u3001\u5bbd\u5b57\u7b26\u8f6c\u6362\u3001Base64\u7f16\u89e3\u7801\u7b49"}),"\n",(0,c.jsx)(e.li,{children:"Unicode\u8f85\u52a9\u51fd\u6570\uff1a\u5927\u5c0f\u5199\u8f6c\u6362\u3001\u53bb\u97f3\u8c03\u3001CJK/Emoji\u5224\u5b9a"}),"\n",(0,c.jsx)(e.li,{children:"\u5bbd\u5ea6\u8ba1\u7b97\u5b9e\u73b0\uff1a\u57fa\u4e8emk_wcwidth\u7684\u5b57\u7b26\u5bbd\u5ea6\u67e5\u8be2"}),"\n",(0,c.jsx)(e.li,{children:"\u7cfb\u7edf\u672c\u5730\u5316\uff1a\u7cfb\u7edf\u8bed\u8a00\u4e0e\u5355\u4f4d\u5236\u68c0\u6d4b"}),"\n",(0,c.jsx)(e.li,{children:"JSON\u89e3\u6790\u4e2d\u7684UTF-8\u5904\u7406\uff1a\u4e0ecatacharset\u89e3\u7801\u903b\u8f91\u4fdd\u6301\u4e00\u81f4"}),"\n",(0,c.jsx)(e.li,{children:"\u6d4b\u8bd5\u4e0e\u5de5\u5177\uff1a\u5355\u5143\u6d4b\u8bd5\u3001\u5b57\u7b26\u753b\u677f\u3001Unicode\u6821\u9a8c\u811a\u672c"}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'graph TB\nsubgraph "\u7f16\u7801\u4e0e\u5b57\u7b26\u4e32\u5904\u7406"\nCAT["catacharset.h/cpp"]\nUNI["unicode.h/cpp"]\nWC["wcwidth.h/cpp"]\nJSON["json.cpp"]\nend\nsubgraph "\u672c\u5730\u5316"\nSYSLOC_H["system_locale.h"]\nSYSLOC_CPP["system_locale.cpp"]\nend\nsubgraph "\u6d4b\u8bd5\u4e0e\u5de5\u5177"\nTEST["tests/catacharset_test.cpp"]\nPALETTE["doc/unicode_chars_palette.txt"]\nCHECKPY["lang/unicode_check.py"]\nend\nCAT --\x3e WC\nCAT --\x3e UNI\nJSON --\x3e CAT\nSYSLOC_CPP --\x3e SYSLOC_H\nTEST --\x3e CAT\nTEST --\x3e UNI\nCHECKPY --\x3e CAT'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.h"}),"\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.h"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.h"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.h"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n",(0,c.jsx)(e.li,{children:"tests/catacharset_test.cpp"}),"\n",(0,c.jsx)(e.li,{children:"doc/unicode_chars_palette.txt"}),"\n",(0,c.jsx)(e.li,{children:"lang/unicode_check.py"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.h"}),"\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.h"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.h"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.h"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n",(0,c.jsx)(e.li,{children:"tests/catacharset_test.cpp"}),"\n",(0,c.jsx)(e.li,{children:"doc/unicode_chars_palette.txt"}),"\n",(0,c.jsx)(e.li,{children:"lang/unicode_check.py"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u6838\u5fc3\u7ec4\u4ef6",children:"\u6838\u5fc3\u7ec4\u4ef6"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"UTF-8\u89e3\u7801\u4e0e\u904d\u5386\uff1a\u63d0\u4f9b\u4eceUTF-8\u5b57\u8282\u6d41\u4e2d\u63d0\u53d6Unicode\u7801\u70b9\u7684\u51fd\u6570\uff0c\u652f\u6301\u9519\u8bef\u8f93\u5165\u65f6\u8fd4\u56de\u5360\u4f4d\u7801\u70b9\u5e76\u8fdb\u884c\u5b89\u5168\u5904\u7406"}),"\n",(0,c.jsx)(e.li,{children:"\u5b57\u7b26\u5bbd\u5ea6\u8ba1\u7b97\uff1a\u57fa\u4e8emk_wcwidth\u5b9e\u73b0\uff0c\u533a\u5206\u7ec4\u5408\u6807\u8bb0\u3001\u63a7\u5236\u5b57\u7b26\u3001\u4ee5\u53caCJK/Emoji\u7b49\u53cc\u5bbd\u5b57\u7b26"}),"\n",(0,c.jsx)(e.li,{children:"\u5b57\u7b26\u4e32\u5305\u88c5\u5668\uff1autf8_wrapper\u6309\u201c\u663e\u793a\u5bbd\u5ea6\u201d\u800c\u975e\u5b57\u8282\u6570\u7d22\u5f15\uff0c\u652f\u6301\u663e\u793a\u5bbd\u5ea6\u5207\u7247\u3001\u5c45\u4e2d\u3001\u622a\u65ad\u7b49"}),"\n",(0,c.jsx)(e.li,{children:"\u5bbd\u5b57\u7b26\u8f6c\u6362\uff1aUTF-8\u4e0e\u5bbd\u5b57\u7b26\u4e32\u4e92\u8f6c\uff0c\u8de8\u5e73\u53f0\u5c01\u88c5Windows\u4e0ePOSIX\u8def\u5f84"}),"\n",(0,c.jsx)(e.li,{children:"Unicode\u8f85\u52a9\uff1a\u5927\u5c0f\u5199\u8f6c\u6362\u3001\u53bb\u97f3\u8c03\u3001CJK/Emoji\u5224\u5b9a"}),"\n",(0,c.jsx)(e.li,{children:"\u7cfb\u7edf\u672c\u5730\u5316\uff1a\u68c0\u6d4b\u7cfb\u7edf\u8bed\u8a00\u4e0e\u662f\u5426\u4f7f\u7528\u516c\u5236\u5355\u4f4d"}),"\n",(0,c.jsx)(e.li,{children:"JSON\u89e3\u6790\uff1a\u4e0ecatacharset\u89e3\u7801\u903b\u8f91\u4e00\u81f4\uff0c\u786e\u4fddJSON\u5185\u5bb9\u6b63\u786e\u89e3\u7801"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.h"}),"\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u67b6\u6784\u603b\u89c8",children:"\u67b6\u6784\u603b\u89c8"}),"\n",(0,c.jsx)(e.p,{children:"\u4e0b\u56fe\u5c55\u793a\u4e86Unicode\u76f8\u5173\u6a21\u5757\u4e4b\u95f4\u7684\u4ea4\u4e92\u5173\u7cfb\u4e0e\u6570\u636e\u6d41\uff1a"}),"\n",(0,c.jsx)(e.mermaid,{value:'graph TB\nA["UTF-8\u8f93\u5165\u5b57\u7b26\u4e32"] --\x3e B["UTF8_getch<br/>\u63d0\u53d6\u7801\u70b9"]\nB --\x3e C["mk_wcwidth<br/>\u67e5\u8be2\u5bbd\u5ea6"]\nB --\x3e D["utf8_wrapper<br/>\u663e\u793a\u5bbd\u5ea6\u7d22\u5f15"]\nB --\x3e E["utf8_display_split<br/>\u6309\u663e\u793a\u5bbd\u5ea6\u5206\u7ec4"]\nB --\x3e F["utf8_width<br/>\u7d2f\u8ba1\u5bbd\u5ea6"]\nB --\x3e G["utf8_view<br/>\u8fed\u4ee3\u7801\u70b9"]\nH["\u7cfb\u7edf\u8bed\u8a00/\u5355\u4f4d\u68c0\u6d4b"] --\x3e I["SystemLocale::Language/UseMetricSystem"]\nJ["JSON\u89e3\u6790"] --\x3e B\nK["\u6d4b\u8bd5\u7528\u4f8b"] --\x3e F\nK --\x3e D'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/catacharset.h"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n",(0,c.jsx)(e.li,{children:"tests/catacharset_test.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u8be6\u7ec6\u7ec4\u4ef6\u5206\u6790",children:"\u8be6\u7ec6\u7ec4\u4ef6\u5206\u6790"}),"\n",(0,c.jsx)(e.h3,{id:"utf-8\u89e3\u7801\u4e0e\u9a8c\u8bc1utf8_getch",children:"UTF-8\u89e3\u7801\u4e0e\u9a8c\u8bc1\uff08UTF8_getch\uff09"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u529f\u80fd\u8981\u70b9\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u89e3\u6790UTF-8\u5b57\u8282\u5e8f\u5217\uff0c\u751f\u6210Unicode\u7801\u70b9"}),"\n",(0,c.jsx)(e.li,{children:"\u5bf9\u8fc7\u957f\u7f16\u7801\u3001\u5b57\u8282\u5e8f\u9519\u4f4d\u3001\u4ee3\u7406\u533a\u3001\u975e\u6cd5\u8303\u56f4\u7b49\u8fdb\u884c\u4e25\u683c\u6821\u9a8c\uff0c\u9047\u65e0\u6548\u8f93\u5165\u8fd4\u56de\u5360\u4f4d\u7801\u70b9"}),"\n",(0,c.jsx)(e.li,{children:"\u4e0eJSON\u89e3\u6790\u4e2d\u7684\u539f\u59cb\u89e3\u7801\u51fd\u6570\u4fdd\u6301\u4e00\u81f4\u6027\uff0c\u907f\u514d\u8de8\u6a21\u5757\u884c\u4e3a\u4e0d\u4e00\u81f4"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u590d\u6742\u5ea6\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n)\uff0cn\u4e3a\u5b57\u7b26\u4e32\u957f\u5ea6"}),"\n",(0,c.jsx)(e.li,{children:"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)\uff0c\u539f\u5730\u89e3\u7801"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u9519\u8bef\u5904\u7406\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u9047\u5230\u975e\u6cd5\u5e8f\u5217\u65f6\u8fd4\u56de\u5360\u4f4d\u7801\u70b9\uff0c\u4fdd\u8bc1\u4e0a\u5c42\u903b\u8f91\u7a33\u5065"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u4f7f\u7528\u573a\u666f\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u8ba1\u7b97\u663e\u793a\u5bbd\u5ea6\u3001\u904d\u5386\u7801\u70b9\u3001\u62c6\u5206\u663e\u793a\u5355\u5143\u3001\u4e0e\u5bbd\u5b57\u7b26\u8f6c\u6362\u914d\u5408"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'flowchart TD\nStart(["\u8fdb\u5165UTF8_getch"]) --\x3e CheckLen["\u68c0\u67e5\u5269\u4f59\u957f\u5ea6"]\nCheckLen --\x3e DecideLead["\u6839\u636e\u9996\u5b57\u8282\u5224\u65ad\u7f16\u7801\u957f\u5ea6"]\nDecideLead --\x3e DecodeBytes["\u9010\u5b57\u8282\u62fc\u63a5\u7801\u70b9"]\nDecodeBytes --\x3e Validate["\u6821\u9a8c\u8303\u56f4/\u8fc7\u957f/\u4ee3\u7406\u533a/\u975e\u6cd5"]\nValidate --\x3e |\u5408\u6cd5| ReturnCode["\u8fd4\u56de\u7801\u70b9"]\nValidate --\x3e |\u975e\u6cd5| ReturnUnknown["\u8fd4\u56de\u5360\u4f4d\u7801\u70b9"]\nReturnCode --\x3e End(["\u7ed3\u675f"])\nReturnUnknown --\x3e End'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"\u5b57\u7b26\u5bbd\u5ea6\u8ba1\u7b97mk_wcwidth",children:"\u5b57\u7b26\u5bbd\u5ea6\u8ba1\u7b97\uff08mk_wcwidth\uff09"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u529f\u80fd\u8981\u70b9\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u57fa\u4e8eUnicode\u6807\u51c6\u5b9a\u4e49\u7684East Asian\u5bbd\u5ea6\u7c7b\u522b\uff0c\u533a\u5206\u975e\u7ec4\u5408\u6807\u8bb0\u3001\u63a7\u5236\u5b57\u7b26\u3001\u4ee5\u53caCJK/Emoji\u7b49\u53cc\u5bbd\u5b57\u7b26"}),"\n",(0,c.jsx)(e.li,{children:"\u7ec4\u5408\u6807\u8bb0\u5bbd\u5ea6\u4e3a0\uff0c\u4e0d\u5f71\u54cd\u5217\u5bbd\uff1b\u63a7\u5236\u5b57\u7b26\u5bbd\u5ea6\u4e3a-1\uff0c\u8868\u793a\u4e0d\u53ef\u89c1"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u590d\u6742\u5ea6\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(log k)\uff0ck\u4e3a\u7ec4\u5408\u533a\u95f4\u6570\u91cf\uff08\u4e8c\u5206\u67e5\u627e\uff09"}),"\n",(0,c.jsx)(e.li,{children:"\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(1)"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u9002\u7528\u8303\u56f4\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u63a7\u5236\u53f0/\u7ec8\u7aef\u5bbd\u5ea6\u8ba1\u7b97\u3001UI\u5e03\u5c40\u3001\u6587\u672c\u5bf9\u9f50\u4e0e\u622a\u65ad"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'flowchart TD\nEnter(["mk_wcwidth(u)"]) --\x3e ControlCheck{"\u662f\u5426\u63a7\u5236\u5b57\u7b26?"}\nControlCheck --\x3e |\u662f| WidthNeg1["\u8fd4\u56de-1"]\nControlCheck --\x3e |\u5426| CombiningCheck{"\u662f\u5426\u7ec4\u5408\u6807\u8bb0?"}\nCombiningCheck --\x3e |\u662f| WidthZero["\u8fd4\u56de0"]\nCombiningCheck --\x3e |\u5426| CJKCheck{"\u662f\u5426CJK/Emoji\u6216\u7279\u5b9a\u8303\u56f4?"}\nCJKCheck --\x3e |\u662f| WidthTwo["\u8fd4\u56de2"]\nCJKCheck --\x3e |\u5426| WidthOne["\u8fd4\u56de1"]'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"\u5b57\u7b26\u4e32\u5305\u88c5\u5668utf8_wrapper",children:"\u5b57\u7b26\u4e32\u5305\u88c5\u5668\uff08utf8_wrapper\uff09"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u529f\u80fd\u8981\u70b9\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u6309\u201c\u7801\u70b9\u6570\u201d\u7d22\u5f15\uff0c\u800c\u975e\u5b57\u8282\u6570\uff0c\u907f\u514d\u5728\u591a\u5b57\u8282\u8fb9\u754c\u5904\u5207\u5206"}),"\n",(0,c.jsx)(e.li,{children:"\u63d0\u4f9b\u6309\u201c\u663e\u793a\u5bbd\u5ea6\u201d\u5207\u7247\u7684\u5b50\u4e32\u65b9\u6cd5\uff0c\u786e\u4fdd\u7ec4\u5408\u6807\u8bb0\u4e0d\u88ab\u9519\u8bef\u62c6\u5206"}),"\n",(0,c.jsx)(e.li,{children:"\u7ef4\u62a4\u5185\u90e8\u201c\u663e\u793a\u5bbd\u5ea6\u201d\uff0c\u7528\u4e8e\u5c45\u4e2d\u3001\u622a\u65ad\u7b49UI\u64cd\u4f5c"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u590d\u6742\u5ea6\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u521d\u59cb\u5316\uff1aO(n)"}),"\n",(0,c.jsx)(e.li,{children:"\u5207\u7247/\u63d2\u5165/\u5220\u9664\uff1aO(n)\uff08\u53d7\u5e95\u5c42\u5b57\u7b26\u4e32\u64cd\u4f5c\u5f71\u54cd\uff09"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u8fb9\u754c\u5904\u7406\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u7ec4\u5408\u6807\u8bb0\u5bbd\u5ea6\u4e3a0\uff0c\u5f52\u5c5e\u524d\u4e00\u7801\u70b9\uff0c\u907f\u514d\u663e\u793a\u5bbd\u5ea6\u9519\u4f4d"}),"\n",(0,c.jsx)(e.li,{children:"\u663e\u793a\u5bbd\u5ea6\u622a\u65ad\u65f6\uff0c\u672b\u5c3e\u8ffd\u52a0\u7701\u7565\u53f7"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'classDiagram\nclass utf8_wrapper {\n-string _data\n-size_t _length\n-size_t _display_width\n+substr(start, length) utf8_wrapper\n+substr_display(start, length) utf8_wrapper\n+shorten(maxlen) string\n+display_width() size_t\n+at(pos) uint32_t\n}\nclass utf8_view {\n+begin() iterator\n+end() iterator\n}\nutf8_wrapper --\x3e utf8_view : "\u904d\u5386\u7801\u70b9"'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.h"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.h"}),"\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"\u5bbd\u5b57\u7b26\u8f6c\u6362utf-8\u5bbd\u5b57\u7b26\u4e32",children:"\u5bbd\u5b57\u7b26\u8f6c\u6362\uff08UTF-8\u2194\u5bbd\u5b57\u7b26\u4e32\uff09"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u529f\u80fd\u8981\u70b9\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Windows\uff1a\u4f7f\u7528\u7cfb\u7edfAPI\u8fdb\u884cUTF-8\u4e0e\u5bbd\u5b57\u7b26\u4e32\u4e92\u8f6c"}),"\n",(0,c.jsx)(e.li,{children:"POSIX\uff1a\u4f7f\u7528\u6807\u51c6\u5e93\u51fd\u6570\uff0c\u5904\u7406\u8fd4\u56de\u503c\u4e3a-1\u7684\u5f02\u5e38\u60c5\u51b5"}),"\n",(0,c.jsx)(e.li,{children:"\u63d0\u4f9b\u4ece\u5bbd\u5b57\u7b26\u4e32\u5230\u672c\u5730\u7f16\u7801\u7684\u8f6c\u6362\u63a5\u53e3"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5e73\u53f0\u5dee\u5f02\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Windows\u4e0ePOSIX\u8def\u5f84\u5206\u522b\u5904\u7406\uff0c\u786e\u4fdd\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u6b63\u786e\u663e\u793a\u4e0e\u4fdd\u5b58"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'sequenceDiagram\nparticipant Caller as "\u8c03\u7528\u65b9"\nparticipant CAT as "catacharset"\nparticipant OS as "\u64cd\u4f5c\u7cfb\u7edf"\nCaller->>CAT : \u8c03\u7528utf8_to_wstr(str)\nalt Windows\nCAT->>OS : MultiByteToWideChar(CP_UTF8,...)\nOS--\x3e>CAT : \u5bbd\u5b57\u7b26\u4e32\nelse POSIX\nCAT->>OS : mbstowcs(...)\nOS--\x3e>CAT : \u5bbd\u5b57\u7b26\u4e32\nend\nCAT--\x3e>Caller : \u8fd4\u56de\u5bbd\u5b57\u7b26\u4e32\nCaller->>CAT : \u8c03\u7528wstr_to_utf8(wstr)\nalt Windows\nCAT->>OS : WideCharToMultiByte(CP_UTF8,...)\nOS--\x3e>CAT : UTF-8\u5b57\u7b26\u4e32\nelse POSIX\nCAT->>OS : wcstombs(...)\nOS--\x3e>CAT : UTF-8\u5b57\u7b26\u4e32\nend\nCAT--\x3e>Caller : \u8fd4\u56deUTF-8\u5b57\u7b26\u4e32'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"unicode\u8f85\u52a9\u51fd\u6570\u5927\u5c0f\u5199\u53bb\u97f3\u8c03cjk\u5224\u5b9a",children:"Unicode\u8f85\u52a9\u51fd\u6570\uff08\u5927\u5c0f\u5199/\u53bb\u97f3\u8c03/CJK\u5224\u5b9a\uff09"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u5927\u5c0f\u5199\u8f6c\u6362\uff1a\u8986\u76d6\u62c9\u4e01\u4e0e\u897f\u91cc\u5c14\u5b57\u6bcd\uff0c\u90e8\u5206\u5904\u7406\u7279\u6b8a\u5b57\u7b26"}),"\n",(0,c.jsx)(e.li,{children:"\u53bb\u97f3\u8c03\uff1a\u9884\u6784\u5efa\u67e5\u627e\u8868\uff0c\u5feb\u901f\u53bb\u9664\u5e38\u89c1\u91cd\u97f3\u7b26\u53f7"}),"\n",(0,c.jsx)(e.li,{children:"CJK/Emoji\u5224\u5b9a\uff1a\u57fa\u4e8eUnicode\u5757\u8303\u56f4\u7684\u4e8c\u5206\u67e5\u627e\uff0c\u652f\u6301\u6269\u5c55\u5757"}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'flowchart TD\nIn(["\u8f93\u5165\u7801\u70b9"]) --\x3e IsLatin{"\u662f\u5426A-Z\u6216\u5e26\u91cd\u97f3\u62c9\u4e01?"}\nIsLatin --\x3e |\u662f| ToLower["\u52a00x20\u6216\u7279\u6b8a\u6620\u5c04"]\nIsLatin --\x3e |\u5426| IsCyrillic{"\u662f\u5426\u897f\u91cc\u5c14?"}\nIsCyrillic --\x3e |\u662f| ToLowerCyr["\u6309\u5947\u5076\u6216\u504f\u79fb\u6620\u5c04"]\nIsCyrillic --\x3e |\u5426| IsY{"\u662f\u5426\u0178?"}\nIsY --\x3e |\u662f| MapY["\u6620\u5c04\u4e3a\xff"]\nIsY --\x3e |\u5426| Keep["\u4fdd\u6301\u4e0d\u53d8"]'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/unicode.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/unicode.h"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"\u7cfb\u7edf\u672c\u5730\u5316\u9002\u914d\u8bed\u8a00\u5355\u4f4d\u5236",children:"\u7cfb\u7edf\u672c\u5730\u5316\u9002\u914d\uff08\u8bed\u8a00/\u5355\u4f4d\u5236\uff09"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u8bed\u8a00\u68c0\u6d4b\uff1aWindows\u901a\u8fc7LCID\u6620\u5c04\uff1bmacOS\u901a\u8fc7\u9996\u9009\u8bed\u8a00\u5217\u8868\uff1bAndroid\u901a\u8fc7JNI\u83b7\u53d6\uff1bLinux\u901a\u8fc7locale\u4e0elanginfo"}),"\n",(0,c.jsx)(e.li,{children:"\u5355\u4f4d\u5236\u68c0\u6d4b\uff1aWindows\u901a\u8fc7\u533a\u57df\u4fe1\u606f\uff1bmacOS\u901a\u8fc7CFLocale\uff1bLinux\u901a\u8fc7langinfo"}),"\n",(0,c.jsx)(e.li,{children:"\u8bed\u8a00\u5339\u914d\uff1a\u5c06\u7cfb\u7edf\u8bed\u8a00\u524d\u7f00\u4e0e\u6e38\u620f\u53ef\u7528\u8bed\u8a00\u96c6\u5408\u5339\u914d\uff0c\u8fd4\u56de\u6700\u5408\u9002\u7684\u8bed\u8a00\u4ee3\u7801"}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'sequenceDiagram\nparticipant App as "\u5e94\u7528"\nparticipant SL as "SystemLocale"\nparticipant OS as "\u64cd\u4f5c\u7cfb\u7edf"\nApp->>SL : Language()\nalt Windows\nSL->>OS : GetUserDefaultUILanguage()\nOS--\x3e>SL : LCID\nSL->>SL : \u5339\u914dLCID\u5230\u8bed\u8a00\u4ee3\u7801\nelse macOS\nSL->>OS : CFLocaleCopyPreferredLanguages()\nOS--\x3e>SL : \u8bed\u8a00\u5217\u8868\nSL->>SL : \u89c4\u8303\u5316\u4e3a\u4e0b\u5212\u7ebf\u683c\u5f0f\nelse Android\nSL->>OS : JNI\u83b7\u53d6\u7cfb\u7edf\u8bed\u8a00\nOS--\x3e>SL : \u8bed\u8a00\u4ee3\u7801\nelse Linux\nSL->>OS : setlocale(LC_ALL)\nOS--\x3e>SL : \u8bed\u8a00\u73af\u5883\u5b57\u7b26\u4e32\nend\nSL--\x3e>App : \u8fd4\u56de\u5339\u914d\u7684\u8bed\u8a00\u4ee3\u7801\u6216\u7a7a\nApp->>SL : UseMetricSystem()\nalt Windows/macOS/Linux\nSL->>OS : \u67e5\u8be2\u533a\u57df/langinfo\nOS--\x3e>SL : \u662f\u5426\u4f7f\u7528\u516c\u5236\nelse \u5176\u4ed6\nSL--\x3e>App : \u8fd4\u56de\u7a7a\nend'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/system_locale.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.h"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/system_locale.h"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h3,{id:"json\u89e3\u6790\u4e2d\u7684utf-8\u5904\u7406",children:"JSON\u89e3\u6790\u4e2d\u7684UTF-8\u5904\u7406"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u4e0ecatacharset\u89e3\u7801\u903b\u8f91\u4fdd\u6301\u4e00\u81f4\uff0c\u907f\u514d\u8de8\u6a21\u5757\u884c\u4e3a\u5dee\u5f02"}),"\n",(0,c.jsx)(e.li,{children:"\u5728JSON\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u8fc7\u7a0b\u4e2d\uff0c\u786e\u4fddUnicode\u7801\u70b9\u6b63\u786e\u89e3\u7801\u4e0e\u7f16\u7801"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u4f9d\u8d56\u5173\u7cfb\u5206\u6790",children:"\u4f9d\u8d56\u5173\u7cfb\u5206\u6790"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u6a21\u5757\u8026\u5408\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"catacharset\u4f9d\u8d56wcwidth\u8fdb\u884c\u5bbd\u5ea6\u8ba1\u7b97"}),"\n",(0,c.jsx)(e.li,{children:"unicode\u63d0\u4f9bCJK/Emoji\u5224\u5b9a\u4e0e\u5927\u5c0f\u5199/\u53bb\u97f3\u8c03\u8f85\u52a9"}),"\n",(0,c.jsx)(e.li,{children:"system_locale\u4e3aUI\u4e0e\u672c\u5730\u5316\u63d0\u4f9b\u8bed\u8a00/\u5355\u4f4d\u5236\u4fe1\u606f"}),"\n",(0,c.jsx)(e.li,{children:"json\u4f9d\u8d56catacharset\u89e3\u7801\u903b\u8f91"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u53ef\u80fd\u7684\u5faa\u73af\u4f9d\u8d56\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u5f53\u524d\u672a\u53d1\u73b0\u76f4\u63a5\u5faa\u73af\u4f9d\u8d56\uff1b\u5404\u6a21\u5757\u804c\u8d23\u6e05\u6670"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5916\u90e8\u4f9d\u8d56\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Windows\uff1aMultiByteToWideChar/WideCharToMultiByte"}),"\n",(0,c.jsx)(e.li,{children:"POSIX\uff1ambstowcs/wcstombs\u3001langinfo\uff08\u53ef\u9009\uff09"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.mermaid,{value:'graph LR\nCAT["catacharset"] --\x3e WC["wcwidth"]\nCAT --\x3e UNI["unicode"]\nJSON["json"] --\x3e CAT\nSYS["system_locale"] -.-> APP["\u5e94\u7528\u5c42"]'}),"\n",(0,c.jsx)(e.p,{children:"\u56fe\u8868\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/unicode.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/json.cpp"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u6027\u80fd\u8003\u91cf",children:"\u6027\u80fd\u8003\u91cf"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["UTF-8\u89e3\u7801\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"O(n)\u7ebf\u6027\u626b\u63cf\uff0c\u65e0\u989d\u5916\u5206\u914d\uff1b\u6ce8\u610f\u907f\u514d\u5728\u70ed\u8def\u5f84\u91cd\u590d\u89e3\u7801"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5bbd\u5ea6\u8ba1\u7b97\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"O(log k)\u4e8c\u5206\u67e5\u627e\u7ec4\u5408\u533a\u95f4\uff1b\u5bf9\u5927\u91cf\u5b57\u7b26\u6279\u91cf\u8ba1\u7b97\u65f6\u53ef\u8003\u8651\u7f13\u5b58\u4e2d\u95f4\u7ed3\u679c"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["utf8_wrapper\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u521d\u59cb\u5316\u4e00\u6b21\u6027\u8ba1\u7b97\u663e\u793a\u5bbd\u5ea6\uff1b\u9891\u7e41\u5207\u7247\u65f6\u4f18\u5148\u4f7f\u7528\u6309\u663e\u793a\u5bbd\u5ea6\u7684\u5b50\u4e32\u65b9\u6cd5\uff0c\u51cf\u5c11\u8fb9\u754c\u9519\u8bef"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5bbd\u5b57\u7b26\u8f6c\u6362\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Windows\u8def\u5f84\u4f7f\u7528\u7cfb\u7edfAPI\uff0c\u907f\u514dC\u5e93\u8f6c\u6362\u5931\u8d25\uff1bPOSIX\u8def\u5f84\u9700\u5904\u7406\u8fd4\u56de\u503c\u4e3a-1\u7684\u60c5\u51b5"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["JSON\u89e3\u6790\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u4e0ecatacharset\u89e3\u7801\u4fdd\u6301\u4e00\u81f4\uff0c\u907f\u514d\u91cd\u590d\u8f6c\u6362\u5e26\u6765\u7684\u5f00\u9500"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"[\u672c\u8282\u4e3a\u901a\u7528\u6027\u80fd\u5efa\u8bae\uff0c\u65e0\u9700\u5217\u51fa\u7ae0\u8282\u6765\u6e90]"}),"\n",(0,c.jsx)(e.h2,{id:"\u6545\u969c\u6392\u67e5\u6307\u5357",children:"\u6545\u969c\u6392\u67e5\u6307\u5357"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["UTF-8\u89e3\u7801\u9519\u8bef\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u73b0\u8c61\uff1a\u51fa\u73b0\u5360\u4f4d\u7801\u70b9\u6216\u663e\u793a\u5f02\u5e38"}),"\n",(0,c.jsx)(e.li,{children:"\u6392\u67e5\uff1a\u786e\u8ba4\u8f93\u5165\u662f\u5426\u4e3a\u5408\u6cd5UTF-8\uff1b\u68c0\u67e5\u662f\u5426\u5b58\u5728\u8fc7\u957f\u7f16\u7801\u3001\u4ee3\u7406\u533a\u6216\u975e\u6cd5\u8303\u56f4"}),"\n",(0,c.jsx)(e.li,{children:"\u53c2\u8003\uff1aUTF8_getch\u7684\u6821\u9a8c\u5206\u652f\u4e0e\u8fd4\u56de\u903b\u8f91"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5bbd\u5ea6\u8ba1\u7b97\u5f02\u5e38\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u73b0\u8c61\uff1a\u4e2d\u6587\u5b57\u7b26\u663e\u793a\u5bbd\u5ea6\u4e0d\u7b26\u5408\u9884\u671f"}),"\n",(0,c.jsx)(e.li,{children:"\u6392\u67e5\uff1a\u786e\u8ba4mk_wcwidth\u7684\u7ec4\u5408\u6807\u8bb0\u4e0e\u63a7\u5236\u5b57\u7b26\u5904\u7406\uff1b\u68c0\u67e5\u662f\u5426\u5305\u542b\u96f6\u5bbd\u5b57\u7b26"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u6587\u672c\u622a\u65ad/\u5c45\u4e2d\u9519\u4f4d\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u73b0\u8c61\uff1a\u622a\u65ad\u4f4d\u7f6e\u4e0d\u51c6\u786e\u6216\u5c45\u4e2d\u504f\u79fb"}),"\n",(0,c.jsx)(e.li,{children:"\u6392\u67e5\uff1a\u4f7f\u7528\u6309\u663e\u793a\u5bbd\u5ea6\u7684\u5207\u7247\u4e0e\u5c45\u4e2d\u51fd\u6570\uff1b\u907f\u514d\u5728\u591a\u5b57\u8282\u8fb9\u754c\u5207\u5206"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u5bbd\u5b57\u7b26\u8f6c\u6362\u5931\u8d25\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u73b0\u8c61\uff1a\u5bbd\u5b57\u7b26\u4e32\u4e0eUTF-8\u4e92\u8f6c\u540e\u4e71\u7801"}),"\n",(0,c.jsx)(e.li,{children:"\u6392\u67e5\uff1aWindows\u8def\u5f84\u4f7f\u7528UTF-8\u7f16\u7801\uff1bPOSIX\u8def\u5f84\u786e\u4fddlocale\u6709\u6548"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u8bed\u8a00/\u5355\u4f4d\u5236\u68c0\u6d4b\u5931\u8d25\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u73b0\u8c61\uff1a\u8bed\u8a00\u672a\u5339\u914d\u6216\u5355\u4f4d\u5236\u672a\u77e5"}),"\n",(0,c.jsx)(e.li,{children:"\u6392\u67e5\uff1a\u68c0\u67e5\u7cfb\u7edf\u8bed\u8a00\u73af\u5883\u4e0e\u5e73\u53f0API\u53ef\u7528\u6027\uff1b\u56de\u9000\u5230\u9ed8\u8ba4\u8bed\u8a00"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"src/catacharset.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/wcwidth.cpp"}),"\n",(0,c.jsx)(e.li,{children:"src/system_locale.cpp"}),"\n",(0,c.jsx)(e.li,{children:"lang/unicode_check.py"}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"\u7ed3\u8bba",children:"\u7ed3\u8bba"}),"\n",(0,c.jsx)(e.p,{children:"CDDA\u7684Unicode\u7cfb\u7edf\u4ee5UTF-8\u4e3a\u6838\u5fc3\uff0c\u7ed3\u5408mk_wcwidth\u5b9e\u73b0\u7cbe\u786e\u7684\u663e\u793a\u5bbd\u5ea6\u8ba1\u7b97\uff0c\u5e76\u901a\u8fc7utf8_wrapper\u63d0\u4f9b\u7a33\u5b9a\u7684\u5b57\u7b26\u4e32\u7d22\u5f15\u4e0e\u663e\u793a\u64cd\u4f5c\u3002\u5e73\u53f0\u5dee\u5f02\u901a\u8fc7\u6761\u4ef6\u7f16\u8bd1\u4e0e\u7cfb\u7edfAPI\u5c01\u88c5\u7edf\u4e00\u5904\u7406\uff0c\u672c\u5730\u5316\u80fd\u529b\u7531SystemLocale\u6a21\u5757\u63d0\u4f9b\u3002\u6574\u4f53\u8bbe\u8ba1\u517c\u987e\u6b63\u786e\u6027\u4e0e\u6027\u80fd\uff0c\u9002\u5408\u5728\u591a\u8bed\u8a00\u3001\u591a\u5e73\u53f0\u73af\u5883\u4e2d\u7a33\u5b9a\u8fd0\u884c\u3002"}),"\n",(0,c.jsx)(e.p,{children:"[\u672c\u8282\u4e3a\u603b\u7ed3\u6027\u5185\u5bb9\uff0c\u65e0\u9700\u5217\u51fa\u7ae0\u8282\u6765\u6e90]"}),"\n",(0,c.jsx)(e.h2,{id:"\u9644\u5f55",children:"\u9644\u5f55"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u5b57\u7b26\u5bbd\u5ea6\u53c2\u8003\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u7ec4\u5408\u6807\u8bb0\u5bbd\u5ea6\u4e3a0"}),"\n",(0,c.jsx)(e.li,{children:"\u63a7\u5236\u5b57\u7b26\u5bbd\u5ea6\u4e3a-1"}),"\n",(0,c.jsx)(e.li,{children:"CJK/Emoji\u7b49\u53cc\u5bbd\u5b57\u7b26\u5bbd\u5ea6\u4e3a2"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\u6d4b\u8bd5\u4e0e\u5de5\u5177\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u5355\u5143\u6d4b\u8bd5\u8986\u76d6UTF-8\u5bbd\u5ea6\u3001\u663e\u793a\u5206\u7ec4\u3001\u5927\u5c0f\u5199/\u53bb\u97f3\u8c03\u3001\u5bbd\u5b57\u7b26\u8f6c\u6362\u7b49"}),"\n",(0,c.jsx)(e.li,{children:"\u5b57\u7b26\u753b\u677f\u7528\u4e8e\u53ef\u89c6\u5316\u5c55\u793aUnicode\u5757"}),"\n",(0,c.jsx)(e.li,{children:"Unicode\u6821\u9a8c\u811a\u672c\u7528\u4e8e\u5b9a\u4f4dPO\u6587\u4ef6\u4e2d\u7684\u7f16\u7801\u9519\u8bef"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\u7ae0\u8282\u6765\u6e90"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"tests/catacharset_test.cpp"}),"\n",(0,c.jsx)(e.li,{children:"doc/unicode_chars_palette.txt"}),"\n",(0,c.jsx)(e.li,{children:"lang/unicode_check.py"}),"\n"]})]})}function a(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(x,{...n})}):x(n)}}}]);